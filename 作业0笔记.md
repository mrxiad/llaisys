# LLAISYS 作业0 笔记

完成时间：2026-02-10

## 1. 环境检查（任务 0.1）

- `xmake --version`：`xmake v3.0.6+20260209`
- `python --version`：`Python 3.10.19`（使用仓库内虚拟环境 `./.venv310`）
- `pip --version`：`pip 26.0.1`

满足作业0依赖要求：构建工具 + C++ 编译环境 + Python >= 3.9。

## 2. 编译与安装（任务 0.2）

执行命令：

```bash
xmake f -cv
xmake -v
xmake install -v
./.venv310/bin/pip install ./python/
```

结果：

- C++ 工程构建成功（`build ok`）。
- `xmake install` 成功，`libllaisys.so` 已复制到 `python/llaisys/libllaisys/`。
- Python 包 `llaisys` 安装成功（`Successfully installed llaisys-0.1.0`）。

## 3. 运行测试（任务 0.3）

执行命令：

```bash
./.venv310/bin/python test/test_runtime.py --device cpu
```

输出结论：

- 识别到 1 个 CPU 设备。
- 测试通过：`Test passed!`

## 4. 模型下载与推理脚本（任务 0.4）

执行命令：

```bash
HF_HUB_DISABLE_XET=1 ./.venv310/bin/python test/test_infer.py --device cpu --max_steps 1
```

说明：

- 该命令会自动下载并加载 `deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B`。
- 首次尝试默认下载方式出现长时间卡住，改为 `HF_HUB_DISABLE_XET=1` 后成功完成。
- 脚本成功输出了 HuggingFace 推理结果（作业0阶段重点是跑通 PyTorch 推理链路）。

关键输出摘要：

- `=== Answer ===` 段成功返回 token 和文本。
- 总耗时约 `23.52s`（本次运行，`max_steps=1`）。

## 5. 作业0完成状态

- [x] 任务 0.1：环境检查完成
- [x] 任务 0.2：构建与安装完成
- [x] 任务 0.3：CPU runtime 测试通过
- [x] 任务 0.4：模型下载 + 推理脚本运行成功

下一步可进入作业1（Tensor 基础函数实现）。
